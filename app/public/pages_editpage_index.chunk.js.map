{"version":3,"file":"pages_editpage_index.chunk.js","sources":["webpack:///./.rax/pages/EditPage/Page.tsx","webpack:///./src/pages/EditPage/index.css","webpack:///./src/pages/EditPage/index.tsx","webpack:///./src/utils/const.tsx"],"sourcesContent":["import { createElement } from 'rax';\nimport PageComponent from 'C:/bookkeeping/src/pages/EditPage';\nconst PageComponentName = PageComponent;\nexport default PageComponentName;","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607514911217\n      var cssReload = require(\"C:/bookkeeping/node_modules/_mini-css-extract-plugin@1.3.2@mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"esModule\":false,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  \n    if(module.hot) {\n      // 1607514911218\n      var cssReload = require(\"!../../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import { createElement, useState } from 'rax';\nimport View from 'rax-view';\nimport Text from 'rax-text';\nimport { history } from 'rax-app';\nimport { getSearchParams } from 'rax-app';\nimport { Form, Radio, Input, Message } from '@alifd/meet';\nimport { host } from '@/utils/const';\nimport cookie from 'react-cookies';\nimport './index.css';\nexport default function EditPage() {\n  const searchParams = getSearchParams();\n\n  const handleSubmit = (values, errors) => {\n    const month = new Date().getMonth() + 1;\n    const date = new Date().getDate();\n    const year = new Date().getFullYear();\n    const param = {\n      id: searchParams.id,\n      sex: cookie.loadAll().sex,\n      username: cookie.loadAll().username,\n      time: `${year}年${month}月${date}日`,\n      ...values\n    };\n    console.log(param);\n\n    if (errors === null) {\n      fetch(`${host}editContent`, {\n        method: 'POST',\n        body: JSON.stringify(param),\n        headers: new Headers({\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${cookie.loadAll().Authorization}`\n        })\n      }).then(response => {\n        return response.json();\n      }).then(function (myJson) {\n        console.log(myJson);\n\n        if (myJson.err === 0) {\n          Message.success(myJson.message);\n          history.push(`/mainAction`);\n        } else {\n          Message.error(myJson.message);\n        }\n      });\n    }\n  };\n\n  console.log(cookie.loadAll().sex);\n  return <View className=\"rax-demo-home\">\n      <Text className=\"rax-demo-title\">Edit Content</Text>\n      <View className=\"demo-content\" style={{\n      padding: 0\n    }}>\n        <Form onSubmit={handleSubmit}>\n          <Form.Item label=\"Price\" required={true} requiredMessage=\"Must Input price\">\n            <Input outline={false} name=\"price\" placeholder=\"Please Input price\" defaultValue={searchParams.price} />\n          </Form.Item>\n          <Form.Item label=\"content\" required={true} requiredMessage=\"Must Input content\">\n            <Input name=\"content\" clear placeholder=\"Please Input content\" defaultValue={searchParams.content} />\n          </Form.Item>\n          <View style={{\n          marginTop: '10px'\n        }}>\n            <Form.Reset block>Reset</Form.Reset>\n            <Form.Submit block type=\"primary\">\n              Change Content\n            </Form.Submit>\n          </View>\n        </Form>\n      </View>\n    </View>;\n}","export const host = 'http://82.156.80.131:7001/';"],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAsCA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAGA;AAzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAOA;;;;;;;;;;;;ACxEA;AAAA;AAAA;;;;A","sourceRoot":""}