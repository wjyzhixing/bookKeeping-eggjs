{"version":3,"file":"pages_addpage_index.chunk.js","sources":["webpack:///./.rax/pages/AddPage/Page.tsx","webpack:///./src/pages/AddPage/index.css","webpack:///./src/pages/AddPage/index.tsx","webpack:///./src/utils/const.tsx"],"sourcesContent":["import { createElement } from 'rax';\nimport PageComponent from 'C:/bookkeeping/src/pages/AddPage';\nconst PageComponentName = PageComponent;\nexport default PageComponentName;","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607674407668\n      var cssReload = require(\"C:/bookkeeping/node_modules/_mini-css-extract-plugin@1.3.2@mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"esModule\":false,\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  \n    if(module.hot) {\n      // 1607674407668\n      var cssReload = require(\"!../../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import { createElement, useState } from 'rax';\nimport View from 'rax-view';\nimport Text from 'rax-text';\nimport { history } from 'rax-app';\nimport { Form, Radio, Input, Message } from '@alifd/meet';\nimport { host } from '@/utils/const';\nimport cookie from 'react-cookies';\nimport './index.css';\nexport default function AddPage() {\n  const handleSubmit = (values, errors) => {\n    const month = new Date().getMonth() + 1;\n    const date = new Date().getDate();\n    const year = new Date().getFullYear();\n    const param = {\n      sex: cookie.loadAll().sex,\n      username: cookie.loadAll().username,\n      time: `${year}年${month}月${date}日`,\n      ...values\n    };\n    console.log(param);\n\n    if (errors === null) {\n      fetch(`${host}addContent`, {\n        method: 'POST',\n        body: JSON.stringify(param),\n        headers: new Headers({\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${cookie.loadAll().Authorization}`\n        })\n      }).then(response => {\n        return response.json();\n      }).then(function (myJson) {\n        console.log(myJson);\n\n        if (myJson.err === 0) {\n          Message.success(myJson.message);\n          history.push(`/mainAction`);\n        } else {\n          Message.error(myJson.message);\n        }\n      });\n    }\n  };\n\n  console.log(cookie.loadAll().sex);\n  return <View className=\"rax-demo-home\">\r\n      <Text className=\"rax-demo-title\">Add Content</Text>\r\n      <View className=\"demo-content\" style={{\n      padding: 0\n    }}>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Item label=\"Price\" required={true} requiredMessage=\"Must Input price\">\r\n            <Input outline={false} name=\"price\" placeholder=\"Please Input price\" />\r\n          </Form.Item>\r\n          <Form.Item label=\"content\" required={true} requiredMessage=\"Must Input content\">\r\n            <Input name=\"content\" clear placeholder=\"Please Input content\" />\r\n          </Form.Item>\r\n          <View style={{\n          marginTop: '10px'\n        }}>\r\n            <Form.Reset block>Reset</Form.Reset>\r\n            <Form.Submit block type=\"primary\">\r\n              Add Content\r\n            </Form.Submit>\r\n          </View>\r\n        </Form>\r\n      </View>\r\n    </View>;\n}","export const host = 'http://82.156.80.131:7001/'; // export const host = 'http://localhost:7001/';"],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAoCA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AADA;AAAA;AAGA;AAxCA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAOA;;;;;;;;;;;;ACpEA;AAAA;AAAA;;;;A","sourceRoot":""}